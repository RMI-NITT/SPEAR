bt.serialize.inferencing.extensions={};var module$contents$bt$serialize$inferencing$extensions_EntityInferenceData=function(a,b){this.inferenceType=a;this.secondDeterministicId=b};module$contents$bt$serialize$inferencing$extensions_EntityInferenceData.equals=function(a,b){var c=!!a;return c!==!!b?!1:c?a.inferenceType===b.inferenceType&&a.secondDeterministicId===b.secondDeterministicId:!0};
module$contents$bt$serialize$inferencing$extensions_EntityInferenceData.prototype.getId=function(){var a=btTs.stringutilities.ID_SEPARATOR+this.inferenceType.toString();this.secondDeterministicId&&(a+=btTs.stringutilities.ID_SEPARATOR+this.secondDeterministicId);return a};bt.serialize.inferencing.extensions.EntityInferenceData=module$contents$bt$serialize$inferencing$extensions_EntityInferenceData;bt.serialize.bsparse.fsdoc.extensions={};Handlebars.registerHelper("render",function(a){return a?(a instanceof module$contents$bt$serialize$bsparse$fsdoc$BTFsDocNode_BTFsDocNode?a:this).render():""});Handlebars.registerHelper("renderListItemWithContext",function(a,b,c){return a.shouldRenderWithContext()?a.renderHandlebars(a.getTemplateName(),{item:a,previous:b[c-1]||null,next:b[c+1]||null}):a.render()});
Handlebars.registerHelper("ifIsExample",function(a,b){return a&&a instanceof module$contents$bt$serialize$bsparse$fsdoc$BTFsDocInlineExample_BTFsDocInlineExample?b.fn(this):b.inverse(this)});var module$contents$bt$serialize$assembly$gen$GBTExplosionType_GBTExplosionType={TRANSLATION_X:0,TRANSLATION_Y:1,TRANSLATION_Z:2,ROTATION_X:3,ROTATION_Y:4,ROTATION_Z:5,UNKNOWN:6};bt.serialize.assembly.gen.GBTExplosionType=module$contents$bt$serialize$assembly$gen$GBTExplosionType_GBTExplosionType;var module$contents$bt$serialize$assembly$gen$GBTExplosionType_StringsGBTExplosionType="TRANSLATION_X TRANSLATION_Y TRANSLATION_Z ROTATION_X ROTATION_Y ROTATION_Z UNKNOWN".split(" ");bt.serialize.version={};bt.serialize.version.Current="1.1.17";bt.treeEditInsertion={};
var module$contents$bt$treeEditInsertion_createEdgePointInsertionEdit=function(a,b,c,d){var e=new module$contents$bt$serialize$diff$BTTreeEditInsertion_BTTreeEditInsertion,f=new module$contents$bt$serialize$bsedit$BTMFeature_BTMFeature;f.featureType="cPoint";f.featureId=a;f.name="Edge point";f.nodeId=btTs.modelutils.newFeatureId();a=new module$contents$bt$serialize$bsedit$BTMParameterQueryList_BTMParameterQueryList;a.nodeId=btTs.modelutils.newFeatureId();a.parameterId="entities";c=btTs.queryutilities.createQuery(c);
a.queries.push(c);f.parameters.push(a);c=new module$contents$bt$serialize$bsedit$BTMParameterQuantity_BTMParameterQuantity;c.nodeId=btTs.modelutils.newFeatureId();c.parameterId="parameter";c.expression=""+d;c.value=d;f.parameters.push(c);e.newNode=f;e.location=b;return e};bt.treeEditInsertion.createEdgePointInsertionEdit=module$contents$bt$treeEditInsertion_createEdgePointInsertionEdit;
var module$contents$bt$treeEditInsertion_createImportSubFeatureInsertEdit=function(a,b,c,d){var e=new module$contents$bt$serialize$diff$BTTreeEditInsertion_BTTreeEditInsertion,f=new module$contents$bt$serialize$bsedit$BTMFeature_BTMFeature;f.featureType="importForeign";f.featureId=a;f.name="In context entity";a=new module$contents$bt$serialize$bsedit$BTMParameterForeignId_BTMParameterForeignId;a.nodeId=btTs.modelutils.newFeatureId();a.parameterId="foreignId";a.foreignId=c;f.parameters.push(a);c=new module$contents$bt$serialize$bsedit$BTMParameterBoolean_BTMParameterBoolean;
c.nodeId=btTs.modelutils.newFeatureId();c.parameterId="isInContext";c.value=d;f.parameters.push(c);e.newNode=f;e.location=b;return e};bt.treeEditInsertion.createImportSubFeatureInsertEdit=module$contents$bt$treeEditInsertion_createImportSubFeatureInsertEdit;
var module$contents$bt$treeEditInsertion_createMeshPointInsertionEdit=function(a,b,c,d){var e=new module$contents$bt$serialize$diff$BTTreeEditInsertion_BTTreeEditInsertion,f=new module$contents$bt$serialize$bsedit$BTMFeature_BTMFeature;f.featureType="cPoint";f.featureId=a;f.name="Mesh point";f.nodeId=btTs.modelutils.newNodeId();a=new module$contents$bt$serialize$bsedit$BTMParameterEnum_BTMParameterEnum;a.nodeId=btTs.modelutils.newNodeId();a.parameterId="pointType";a.value="MESH_POINT";a.enumName=
"PointType";f.parameters.push(a);a=new module$contents$bt$serialize$bsedit$BTMParameterQueryList_BTMParameterQueryList;a.nodeId=btTs.modelutils.newNodeId();a.parameterId="mesh";c=btTs.queryutilities.createQuery(c);a.queries.push(c);f.parameters.push(a);c=["x","y","z"];for(a=0;3>a;a++){var g=new module$contents$bt$serialize$bsedit$BTMParameterQuantity_BTMParameterQuantity;g.nodeId=btTs.modelutils.newNodeId();g.parameterId=c[a];g.expression=d[a]+" m";g.value=d[a];f.parameters.push(g)}e.newNode=f;e.location=
b;return e};bt.treeEditInsertion.createMeshPointInsertionEdit=module$contents$bt$treeEditInsertion_createMeshPointInsertionEdit;bt.model={};(function(){for(var a=document.getElementsByTagName("meta"),b=0;b<a.length;b++){var c=a[b];if("apple-itunes-app"===c.name){c.parentElement.removeChild(c);break}}a=window.location.href.replace("https://","onshape://");a=a.replace("http://","onshape://");b=document.createElement("meta");b.name="apple-itunes-app";b.content="app-id=923421284, app-argument="+a;document.getElementsByTagName("head")[0].appendChild(b)})();bt.model.activeModelIds="";bt.model.disableUserTessellationOverrides=!1;
bt.model.init=function(a,b){bt.model.activeModelIds&&btTs.logging.log.warn("A bt.model.init has been called already without a corresponding destroy for: "+bt.model.activeModelIds);bt.model.activeModelIds=a+"."+b;$(function(){function c(a){bt.model.logException("Unhandled javascript exception:",a)}function d(a){var b=[];b=a.match(/:\/\/(.*):([0-9]*)/);null!==b&&3===b.length&&(h=b[1],l=b[2]);return Q.promise(function(b){b(a)})}function e(a){u++;if(1>=u)btTs.logging.log.warn("Retrying after error POSTing to createModelingServiceRequest - status: ("+
a.status+") "+a.statusText),btTs.injector.PartStudioService.getModelingServiceTicket(g,b).then(d,e).then(f);else{try{bt.model.loadingFinished()}catch(E){}btTs.logging.log.error("Error POSTing to createModelingServiceRequest - status: ("+a.status+") "+a.statusText);var c=module$contents$bt$serialize$serializeGen$gen$GBTClientConnectionConditionCode_GBTClientConnectionConditionCode.NO_MODELING_SVC_AVAILABLE;a.data&&(a=a.data.code)&&a>module$contents$bt$serialize$serializeGen$gen$GBTClientConnectionConditionCode_GBTClientConnectionConditionCode.OK&&
a<module$contents$bt$serialize$serializeGen$gen$GBTClientConnectionConditionCode_GBTClientConnectionConditionCode.UNKNOWN&&(c=a);bt.model.onModelingServiceError(c)}}function f(a){!q&&a&&(bt.model.loadingStarting(),btTs.documentLoad.openConnection(a,bt.model.getClientFunctionality(),g),btTs.ui.view.menumanager.contextMenuMgr.setupGraphicsContextMenus(n.mainViewer,"#canvas","#content-div"),$(".operation-button").on("click",function(){$(this).siblings().show().addClass("popped-out").find("input").focus()}),
$(".popout").hide())}Q.stopUnhandledRejectionTracking&&Q.stopUnhandledRejectionTracking();var g=a;btTs.ga.setModelId(g);var h=window.location.hostname,l=window.location.port;(function(){var a=btTs.ui.model.document.Model.getOpenDocumentModel();a.set("documentId",g);a.set("workspaceId",b);a.set("modelingServiceHost",h);a.set("modelingServicePort",l)})();try{if(!window.WebSocket)return $("#canvas").replaceWith('<label class="alert alert-info no-webgl-warning">This page requires a browser that supports Web Socket.<br/><a href="/resource-center/" target="_blank">Click here to learn more about the System requirements.</a></label>'),
!1}catch(C){return $("#canvas").replaceWith('<label class="alert alert-info no-webgl-warning">This page requires a browser that supports Web Socket.<br/><a href="/resource-center/" target="_blank">Click here to learn more about the System requirements.</a></label>'),!1}var m=$("#canvas").get(0);m instanceof Array&&(m=null);var n=btTs.graphics.viewerset.getOrCreateViewerSet({documentId:a,createSheetMetalViewer:!0,contextMenuMgr:btTs.ui.view.menumanager.contextMenuMgr});m=n.mainViewer.getWebGlSupport();
if(m!==btTs.graphics.utilities.WebGlSupport.SUPPORTED)return 0<$("#model-body").length&&btTs.injector.BrowserSupportService.showWebGLProblemNotification(m),!1;0<window.location.href.indexOf("enableFpsTest")&&$('<button class="btn btn-default fps-test-button" type="button">Execute FPS test</button>').appendTo(".canvas-container").click(function(){btTs.graphics.debugTools.timeRendering({forceLowDetail:!0})});btTs.graphics.utilities.cacheCapabilities();m=btTs.injector.AuthenticationService.getXSRFData();
var p=btTs.cookieutilities.readCookie(m.xsrfTokenName);btTs.log.addAjaxAppenders(a,m,p);window.addEventListener("error",c,!1);var q=!1,r="a.save-a-version-command a.copy-document-command a.nav-standardview a.nav-zoomfit a.nav-switchcamera a.nav-bsconsole a.nav-appearanceeditor a.units-command button.nav-share".split(" "),t=function(a){var b;a?_.each(r,function(a){b=$(a);_.each(b,function(a){$(a).parent().removeClass("disabled")})}):_.each(r,function(a){b=$(a);_.each(b,function(a){$(a).parent().addClass("disabled")})})};
bt.model.getClientFunctionality=function(){bt.model.disableUserTessellationOverrides=0<window.location.href.indexOf("disableUserTessellationOverrides")||bt.model.disableUserTessellationOverrides;var a=new module$contents$bt$serialize$serializeGen$BTClientFunctionality_BTClientFunctionality;a.clientType=module$contents$bt$serialize$serializeGen$gen$GBTClientType_GBTClientType.BROWSER;a.canAcceptTreeEdits=!0;a.canBeFollowModeLeader=!0;a.compatibilityLevel=module$contents$bt$serialize$serializeGen$gen$GBTClientSerializationCompatibilityLevel_GBTClientSerializationCompatibilityLevel.UNKNOWN-
1;a.canReportTessellationSettings=!0;a.canOpenDocumentsWithTables=!0;a.canAcceptAssemblyOutputData=!0;a.canAcceptAssemblyPattern=!0;a.canAcceptAssemblyUpdateOnDrag=!0;a.canAcceptMeshes=!0;a.canAcceptInContext=!0;a.canReceiveLocalizedSelectionName=!0;a.canBranchPartStudioDisplayData=!0;a.canDecompressDisplayData=!0;a.canFetchMissingPartDisplayData=!0;a.disableUserTessellationOverrides=bt.model.disableUserTessellationOverrides;var b=BTAppearanceConstants.getManager();a.initialBodyDisplayDataMemoryLimitMB=
btTs.browserutilities.isBrowser64BitFirefox()?b.getNumber("INITIAL_BODY_DISPLAY_MEMORY_LIMIT_FIREFOX64_MB"):b.getNumber("INITIAL_BODY_DISPLAY_MEMORY_LIMIT_MB");return a};bt.model.modelLoading=!1;bt.model.getIsModelLoading=function(){return bt.model.modelLoading};bt.model.loadingStarting=function(){bt.model.modelLoading||(bt.model.modelLoading=!0,t(!1))};bt.model.loadingFinished=function(){if(bt.model.modelLoading){bt.model.modelLoading=!1;t(!0);var a=btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController();
if(a)a.onDocumentLoaded()}};var u=0;btTs.injector.CapabilitiesService.isDebugEnabled().then(function(b){return btTs.onDebugCapabilitiesReceived(b,a)}).then(function(){return btTs.injector.PartStudioService.getModelingServiceTicket(g,b)}).then(d,e).then(f);$(".buttons button").button();bt.model.handleDeleteKey=function(a){var b=!1;if(a.which===btTs.global.Keys.DELETE||a.which===btTs.global.Keys.BACKSPACE)b=a.target,b="INPUT"===b.tagName.toUpperCase()||"TEXTAREA"===b.tagName.toUpperCase()?b.readOnly||
b.disabled:!0;b&&a.preventDefault()};$(document).on("keydown",bt.model.handleDeleteKey);bt.model.handleChangedConnectionCondition=function(a){var b=a.code;if(module$contents$bt$serialize$serializeGen$gen$GBTClientConnectionConditionCode_GBTClientConnectionConditionCode.MS_IS_RECOVERING_FROM_ERROR===b){var c=btTs.ui.controller.documentcontroller.Controller.getActiveFeatureController();c&&(n.mainViewer.destroyPreviewGraphics(),btTs.graphics.editstate.resetUsage(),c.onDialogClosed(btTs.ui.view.genericfeaturedialog.CommitType.CANCEL),
bt.model.onModelingServiceError(b))}else bt.model.onModelingServiceError(b);a.closeConnection&&BTMessageConnection.MessageConnection.getConnection(BTMessageConnection.Connections.MAIN).close()};$("#tag-debug-dialog").draggable();$("#timing-debug-dialog").draggable();$("#print-setup-dialog").draggable();$("#appearance-dialog").draggable();$("#check-part-dialog").draggable();$("#move-to-mv-dialog").draggable();$("#view-restore-dialog").draggable();var k=function(){bt.model.loadingFinished();BTMessageConnection.MessageConnection.getConnection(BTMessageConnection.Connections.MAIN)&&
BTMessageConnection.MessageConnection.getConnection(BTMessageConnection.Connections.MAIN).close()};window.addEventListener("beforeunload",k,!1);window.addEventListener("onunload",bt.model.loadingFinished,!1);var v=window.setTimeout(function(){var a=btTs.ui.model.document.Model.getOpenDocumentModel();v=null;BTMessageConnection.MessageConnection.onDocumentInitialized();btTs.ui.controller.documentcontroller.Controller.createDocumentController(a,BTMessageConnection.MessageConnection.getConnection(BTMessageConnection.Connections.MAIN),
n,null)},0);bt.model.resizeCanvasAndRecalculatePanelLayoutManagerBounds=function(){var a=$("#viewerdiv.canvas-container"),b=$("#content-div").width(),c=a.width();a=a.height();c=Math.max(Math.round(c),1)+"px";var d=Math.max(Math.round(a),1)+"px",e=$("#canvas").get(0),f=btTs.ui.panelutils.makeEmptyRect();f.left=0;f.top=3;f.right=f.left+b;f.bottom=f.top+a;btTs.ui.panelutils.getPanelLayoutManager().setBounds(f);n.mainViewer&&e&&(e.style.width=c,e.style.height=d,n.mainViewer.onResize())};bt.model.resizeCanvasAndRecalculatePanelLayoutManagerBounds();
var A=0;bt.model.logException=function(a,b){"Script error."===b.message?++A:"Uncaught TypeError: a[b].target.className.indexOf is not a function"===b.message&&btTs.browserutilities.isBrowserChrome()?++A:(a=a+'\n"'+b.message+'"\n  from: '+b.filename+":"+b.lineno+":"+b.colno,b.error&&b.error.stack&&(a+="\nException Stack:\n"+b.error.stack),btTs.logging.log.error(a))};btTs.documentLoad.registerMessageHandlers(b,n);bt.model.onModelingServiceError=function(a){bt.model.loadingFinished();btTs.injector.DocumentErrorService.onModelingServiceError(a)};
bt.model.showUnitsDialog=function(){var a=btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController();a&&a.showUnitsDialog()};bt.model.setApplicationElementBaseHref=function(a,b,c,d){var e=btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController();e&&(a=e.getElementModel(a))&&a.isForeignDataElement()&&(c?a.setUserSpecifiedBaseHref(b,d):a.setBaseHref(b))};bt.model.onDocumentDestroyed=function(){0<A&&btTs.logging.log.warn("Client had "+A+" unlogged exceptions");if(btTs.ui.controller.documentcontroller.Controller)btTs.ui.controller.documentcontroller.Controller.onDocumentDestroyed();
btTs.ui.model.document.Model.resetOpenDocumentModel();bt.model.loadingFinished();BTMessageConnection.MessageConnection.getConnection(BTMessageConnection.Connections.MAIN).close();btTs.ui.view.menumanager.contextMenuMgr.destroyContextMenus();btTs.graphics.viewerset.removeGraphicsViewers();btTs.selectionMgr.reset();$(document).off("keydown",bt.model.handleDeleteKey);window.removeEventListener("beforeunload",k,!1);window.removeEventListener("onunload",bt.model.loadingFinished,!1);window.removeEventListener("error",
c,!1);btTs.log.removeAjaxAppenders();q=!0;_.isNumber(v)&&(window.clearTimeout(v),v=null);bt.model.activeModelIds=null};bt.model.onBlobElementUpdated=function(a){btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().forceUpdateOfBlobElements([a])};bt.model.areActiveDocumentAndWorkspace=function(a,b){var c=btTs.ui.model.document.Model.getOpenDocumentModel();return a===c.get("documentId")&&b===c.get("workspaceId")};bt.model.postMessageToApplicationElement=function(a,b,c,d){bt.model.areActiveDocumentAndWorkspace(a,
b)&&btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().postMessageToApplicationElement(c,d)};bt.model.setTutorialElementUrlEnd=function(a,b,c,d){bt.model.areActiveDocumentAndWorkspace(a,b)&&btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().setTutorialElementUrlEnd(c,d)};bt.model.handlePrintCommandInApplication=function(a,b,c){bt.model.areActiveDocumentAndWorkspace(a,b)&&btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().handlePrintCommandInApplicationElement(c)};
bt.model.setKeyboardFocusToActiveElement=function(){btTs.ui.controller.documentcontroller.Controller.setKeyboardFocusToActiveElement()};bt.model.showSheetmetalViewer=function(){n.sheetMetalViewer&&($("#sheetmetaldiv").append(n.sheetMetalViewer.el),n.sheetMetalViewer.getEventDispatcher().trigger(btTs.graphics.eventdispatcher.VIEWER_CANVAS_ATTACHED_TO_CONTAINER),n.sheetMetalViewer.show(),btTs.ui.view.menumanager.contextMenuMgr.setupGraphicsContextMenus(n.sheetMetalViewer,"#sheetmetalcanvas","#sheetmetaldiv"))};
bt.model.hideSheetmetalViewer=function(){n.sheetMetalViewer&&(n.sheetMetalViewer.hide(),n.sheetMetalViewer.$el.parent(".canvas-container").detach())};bt.model.resizeSheetmetalViewer=function(){if(n.sheetMetalViewer)n.sheetMetalViewer.onResize()};bt.model.sheetmetalFeatureSelected=function(a){if(n.sheetMetalViewer){n.sheetMetalViewer.getEdgePointController()&&n.sheetMetalViewer.getEdgePointController().setSelectedSheetmetalModelId(a);n.sheetMetalViewer.getModelViewManagers().getManager().showPartsWithSheetmetalModelIdOnly(a);
var b=n.sheetMetalViewer.getModelViewManagers().getPreviewManager();b&&b.showPartsWithSheetmetalModelIdOnly(a);(b=btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().getFlatMeasurementAreaController())&&b.updateMeasurements();(b=btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().getActiveFeatureController())&&b.sheetmetalFeatureSelected(n.sheetMetalViewer.getViewerId(),a)}};bt.model.getSheetmetalViewer=function(){return n.sheetMetalViewer||null}})};
bt.model.createPrintView=function(a,b,c,d,e,f,g){var h=btTs.graphics.viewer.getActiveViewer();h&&h.createPrintView(a,b,c,d,e,f,g)};bt.model.getRendererInfo=function(){var a=btTs.graphics.viewer.getActiveViewer();return btTs.graphics.utilities.getRendererInfo(a.getGlContext())};bt.model.setInCompareMode=function(a){btTs.graphics.editstate.getEditState().set("inCompareMode",a)};bt.model.notifyElementIsNotComparable=function(){var a=btTs.graphics.viewer.getActiveViewer();a&&a.stopWaitingForCompareDisplayData()};
bt.model.onDocumentRestoredOrMerged=function(){var a=btTs.ui.model.document.Model.getOpenDocumentModel();if(a)a.onDocumentRestoredOrMerged()};bt.model.onElementRenamed=function(a,b){var c=btTs.ui.model.document.Model.getOpenDocumentModel();if(c)c.onElementRenamed(a,b)};bt.model.onOpenImportDialog=function(){btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().openImportDialog()};bt.model.forceReloadAllOpenDrawings=function(){btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().forceReloadAllOpenDrawings()};
bt.model.forceReloadActiveDrawing=function(a){btTs.ui.controller.documentcontroller.Controller.getOpenDocumentController().forceReloadActiveDrawing(a)};
bt.model.assignViewerForFlatDebugGeometry=function(a,b){var c=function(a){if(a instanceof module$contents$bt$serialize$computeddata$BTFeatureComputedData_BTFeatureComputedData)for(var c=0;c<a.statusDisplayGeometry.length;c++){var d=a.statusDisplayGeometry[c];d instanceof module$contents$bt$serialize$display$BTDebugGeometry_BTDebugGeometry&&d.belongsToFlattenedSheetMetalBody&&(d.statusDisplayGeometryViewer=b)}};for(d in a.computedData.computedData)c(a.computedData.computedData[d]);var d=function(a){a=
a.newValue;if(a instanceof module$contents$bt$serialize$tree$BTFieldValueMapIncrement_BTFieldValueMapIncrement)for(var b in a.changes){var d=a.changes[b];d instanceof module$contents$bt$serialize$tree$BTFieldValueObject_BTFieldValueObject&&c(d.value)}};a.computedDataEdit&&a.computedDataEdit instanceof module$contents$bt$serialize$diff$BTTreeEditChangeField_BTTreeEditChangeField&&d(a.computedDataEdit);if(a.computedDataEdit&&a.computedDataEdit instanceof module$contents$bt$serialize$diff$BTTreeEditList_BTTreeEditList)for(var e=
0;e<a.computedDataEdit.edits.length;e++){var f=a.computedDataEdit.edits[e];f instanceof module$contents$bt$serialize$diff$BTTreeEditChangeField_BTTreeEditChangeField&&d(f)}};
